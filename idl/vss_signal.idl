// Copyright 2025 VSS-Types Contributors
// SPDX-License-Identifier: Apache-2.0
//
// VSS Signal IDL - Signal types for DDS pub/sub
//
// This IDL defines the Signal type used for publishing VSS data over DDS.
// It depends on vss_types.idl for base types.

#ifndef VSS_SIGNAL_IDL
#define VSS_SIGNAL_IDL

#include "vss_types.idl"

module vss {

    // =========================================================================
    // VSS Signal - Primary data type for VSS signal pub/sub
    // =========================================================================
    // A signal represents a single VSS data point with its path, value,
    // quality, and metadata.
    //
    // The path field is the DDS key, allowing topic filtering by VSS path.
    //
    // Example paths:
    //   "Vehicle.Speed"
    //   "Vehicle.Powertrain.TractionBattery.StateOfCharge.Current"
    //   "Vehicle.Chassis.Brake.PedalPosition"
    //
    struct Signal {
        string path;                    // @key: VSS path (e.g., "Vehicle.Speed")
        vss::types::Header header;      // Metadata (source, timestamp, sequence)
        vss::types::Quality quality;    // Signal quality/validity
        vss::types::Value value;        // The actual value
    };
    #pragma keylist Signal path

    // =========================================================================
    // Signal Batch - For efficient bulk transfer
    // =========================================================================
    // Groups multiple signals for reduced overhead in high-throughput scenarios.
    //
    struct SignalBatch {
        vss::types::Header header;      // Batch-level metadata
        sequence<Signal> signals;       // Signals in this batch
    };

};  // module vss

#endif // VSS_SIGNAL_IDL
